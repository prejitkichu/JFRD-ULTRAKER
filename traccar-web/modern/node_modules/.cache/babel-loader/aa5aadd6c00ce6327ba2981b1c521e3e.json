{"ast":null,"code":"var _jsxFileName = \"D:\\\\Personal_Projects\\\\Vehicle Tracking\\\\Development2.0\\\\JFRD-ULTRAKER\\\\traccar-web\\\\modern\\\\src\\\\settings\\\\ComputedAttributePage.js\";\nimport React, { useState } from 'react';\nimport { Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography, FormControl, InputLabel, MenuItem, Select, TextField } from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport t from '../common/localization';\nimport EditItemView from '../EditItemView';\nimport positionAttributes from '../attributes/positionAttributes';\nconst useStyles = makeStyles(() => ({\n  details: {\n    flexDirection: 'column'\n  }\n}));\n\nconst ComputedAttributePage = () => {\n  const classes = useStyles();\n  const [item, setItem] = useState();\n  const [key, setKey] = useState();\n  const options = Object.entries(positionAttributes).map(_ref => {\n    let [key, value] = _ref;\n    return {\n      key,\n      name: value.name,\n      type: value.type\n    };\n  });\n\n  const handleChange = event => {\n    const newValue = event.target.value;\n    setKey(newValue);\n    const positionAttribute = positionAttributes[newValue];\n\n    if (positionAttribute && positionAttribute.type) {\n      setItem({ ...item,\n        attribute: newValue,\n        type: positionAttribute.type\n      });\n    } else {\n      setItem({ ...item,\n        attribute: newValue\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(EditItemView, {\n    endpoint: \"/attributes/computed\",\n    item: item,\n    setItem: setItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, item && /*#__PURE__*/React.createElement(Accordion, {\n    defaultExpanded: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AccordionSummary, {\n    expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 41\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, t('sharedRequired'))), /*#__PURE__*/React.createElement(AccordionDetails, {\n    className: classes.details,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    margin: \"normal\",\n    value: item.description || '',\n    onChange: event => setItem({ ...item,\n      description: event.target.value\n    }),\n    label: t('sharedDescription'),\n    variant: \"filled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FormControl, {\n    variant: \"filled\",\n    margin: \"normal\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  }, t('sharedAttribute')), /*#__PURE__*/React.createElement(Select, {\n    value: item.attribute || '',\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, options.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n    key: option.key,\n    value: option.key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 19\n    }\n  }, option.name)))), /*#__PURE__*/React.createElement(TextField, {\n    margin: \"normal\",\n    value: item.expression || '',\n    onChange: event => setItem({ ...item,\n      expression: event.target.value\n    }),\n    label: t('sharedExpression'),\n    multiline: true,\n    rows: 4,\n    variant: \"filled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FormControl, {\n    variant: \"filled\",\n    margin: \"normal\",\n    fullWidth: true,\n    disabled: key in positionAttributes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, t('sharedType')), /*#__PURE__*/React.createElement(Select, {\n    value: item.type || '',\n    onChange: event => setItem({ ...item,\n      type: event.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"string\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, t('sharedTypeString')), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, t('sharedTypeNumber')), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"boolean\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, t('sharedTypeBoolean')))))));\n};\n\nexport default ComputedAttributePage;","map":{"version":3,"sources":["D:/Personal_Projects/Vehicle Tracking/Development2.0/JFRD-ULTRAKER/traccar-web/modern/src/settings/ComputedAttributePage.js"],"names":["React","useState","Accordion","AccordionSummary","AccordionDetails","makeStyles","Typography","FormControl","InputLabel","MenuItem","Select","TextField","ExpandMoreIcon","t","EditItemView","positionAttributes","useStyles","details","flexDirection","ComputedAttributePage","classes","item","setItem","key","setKey","options","Object","entries","map","value","name","type","handleChange","event","newValue","target","positionAttribute","attribute","description","option","expression"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography, FormControl, InputLabel, MenuItem, Select, TextField,\r\n} from '@material-ui/core';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport t from '../common/localization';\r\nimport EditItemView from '../EditItemView';\r\nimport positionAttributes from '../attributes/positionAttributes';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  details: {\r\n    flexDirection: 'column',\r\n  },\r\n}));\r\n\r\nconst ComputedAttributePage = () => {\r\n  const classes = useStyles();\r\n  const [item, setItem] = useState();\r\n  const [key, setKey] = useState();\r\n\r\n  const options = Object.entries(positionAttributes).map(([key, value]) => ({\r\n    key,\r\n    name: value.name,\r\n    type: value.type,\r\n  }));\r\n\r\n  const handleChange = (event) => {\r\n    const newValue = event.target.value;\r\n    setKey(newValue);\r\n    const positionAttribute = positionAttributes[newValue];\r\n    if (positionAttribute && positionAttribute.type) {\r\n      setItem({ ...item, attribute: newValue, type: positionAttribute.type });\r\n    } else {\r\n      setItem({ ...item, attribute: newValue });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <EditItemView endpoint=\"/attributes/computed\" item={item} setItem={setItem}>\r\n      {item\r\n        && (\r\n        <Accordion defaultExpanded>\r\n          <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n            <Typography variant=\"subtitle1\">\r\n              {t('sharedRequired')}\r\n            </Typography>\r\n          </AccordionSummary>\r\n          <AccordionDetails className={classes.details}>\r\n            <TextField\r\n              margin=\"normal\"\r\n              value={item.description || ''}\r\n              onChange={(event) => setItem({ ...item, description: event.target.value })}\r\n              label={t('sharedDescription')}\r\n              variant=\"filled\"\r\n            />\r\n            <FormControl variant=\"filled\" margin=\"normal\" fullWidth>\r\n              <InputLabel>{t('sharedAttribute')}</InputLabel>\r\n              <Select\r\n                value={item.attribute || ''}\r\n                onChange={handleChange}\r\n              >\r\n                {options.map((option) => (\r\n                  <MenuItem key={option.key} value={option.key}>{option.name}</MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n            <TextField\r\n              margin=\"normal\"\r\n              value={item.expression || ''}\r\n              onChange={(event) => setItem({ ...item, expression: event.target.value })}\r\n              label={t('sharedExpression')}\r\n              multiline\r\n              rows={4}\r\n              variant=\"filled\"\r\n            />\r\n            <FormControl\r\n              variant=\"filled\"\r\n              margin=\"normal\"\r\n              fullWidth\r\n              disabled={key in positionAttributes}\r\n            >\r\n              <InputLabel>{t('sharedType')}</InputLabel>\r\n              <Select\r\n                value={item.type || ''}\r\n                onChange={(event) => setItem({ ...item, type: event.target.value })}\r\n              >\r\n                <MenuItem value=\"string\">{t('sharedTypeString')}</MenuItem>\r\n                <MenuItem value=\"number\">{t('sharedTypeNumber')}</MenuItem>\r\n                <MenuItem value=\"boolean\">{t('sharedTypeBoolean')}</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </AccordionDetails>\r\n        </Accordion>\r\n        )}\r\n    </EditItemView>\r\n  );\r\n};\r\n\r\nexport default ComputedAttributePage;\r\n"]},"metadata":{},"sourceType":"module"}