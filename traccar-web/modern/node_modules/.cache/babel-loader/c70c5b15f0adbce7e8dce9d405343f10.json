{"ast":null,"code":"import { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport circle from '@turf/circle';\nimport { map } from './Map';\n\nconst AccuracyMap = () => {\n  const id = 'accuracy';\n  const positions = useSelector(state => ({\n    type: 'FeatureCollection',\n    features: Object.values(state.positions.items).filter(position => position.accuracy > 0).map(position => circle([position.longitude, position.latitude], position.accuracy * 0.001))\n  }));\n  useEffect(() => {\n    map.addSource(id, {\n      type: 'geojson',\n      data: {\n        type: 'FeatureCollection',\n        features: []\n      }\n    });\n    map.addLayer({\n      source: id,\n      id,\n      type: 'fill',\n      filter: ['all', ['==', '$type', 'Polygon']],\n      paint: {\n        'fill-color': '#3bb2d0',\n        'fill-outline-color': '#3bb2d0',\n        'fill-opacity': 0.25\n      }\n    });\n    return () => {\n      map.removeLayer(id);\n      map.removeSource(id);\n    };\n  }, []);\n  useEffect(() => {\n    map.getSource(id).setData(positions);\n  }, [positions]);\n  return null;\n};\n\nexport default AccuracyMap;","map":{"version":3,"sources":["D:/Personal_Projects/Vehicle Tracking/Development2.0/JFRD-ULTRAKER/traccar-web/modern/src/map/AccuracyMap.js"],"names":["useEffect","useSelector","circle","map","AccuracyMap","id","positions","state","type","features","Object","values","items","filter","position","accuracy","longitude","latitude","addSource","data","addLayer","source","paint","removeLayer","removeSource","getSource","setData"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,MAAP,MAAmB,cAAnB;AAEA,SAASC,GAAT,QAAoB,OAApB;;AAEA,MAAMC,WAAW,GAAG,MAAM;AACxB,QAAMC,EAAE,GAAG,UAAX;AAEA,QAAMC,SAAS,GAAGL,WAAW,CAAEM,KAAD,KAAY;AACxCC,IAAAA,IAAI,EAAE,mBADkC;AAExCC,IAAAA,QAAQ,EAAEC,MAAM,CAACC,MAAP,CAAcJ,KAAK,CAACD,SAAN,CAAgBM,KAA9B,EAAqCC,MAArC,CAA6CC,QAAD,IAAcA,QAAQ,CAACC,QAAT,GAAoB,CAA9E,EAAiFZ,GAAjF,CAAsFW,QAAD,IAAcZ,MAAM,CAAC,CAACY,QAAQ,CAACE,SAAV,EAAqBF,QAAQ,CAACG,QAA9B,CAAD,EAA0CH,QAAQ,CAACC,QAAT,GAAoB,KAA9D,CAAzG;AAF8B,GAAZ,CAAD,CAA7B;AAKAf,EAAAA,SAAS,CAAC,MAAM;AACdG,IAAAA,GAAG,CAACe,SAAJ,CAAcb,EAAd,EAAkB;AAChBG,MAAAA,IAAI,EAAE,SADU;AAEhBW,MAAAA,IAAI,EAAE;AACJX,QAAAA,IAAI,EAAE,mBADF;AAEJC,QAAAA,QAAQ,EAAE;AAFN;AAFU,KAAlB;AAOAN,IAAAA,GAAG,CAACiB,QAAJ,CAAa;AACXC,MAAAA,MAAM,EAAEhB,EADG;AAEXA,MAAAA,EAFW;AAGXG,MAAAA,IAAI,EAAE,MAHK;AAIXK,MAAAA,MAAM,EAAE,CACN,KADM,EAEN,CAAC,IAAD,EAAO,OAAP,EAAgB,SAAhB,CAFM,CAJG;AAQXS,MAAAA,KAAK,EAAE;AACL,sBAAc,SADT;AAEL,8BAAsB,SAFjB;AAGL,wBAAgB;AAHX;AARI,KAAb;AAeA,WAAO,MAAM;AACXnB,MAAAA,GAAG,CAACoB,WAAJ,CAAgBlB,EAAhB;AACAF,MAAAA,GAAG,CAACqB,YAAJ,CAAiBnB,EAAjB;AACD,KAHD;AAID,GA3BQ,EA2BN,EA3BM,CAAT;AA6BAL,EAAAA,SAAS,CAAC,MAAM;AACdG,IAAAA,GAAG,CAACsB,SAAJ,CAAcpB,EAAd,EAAkBqB,OAAlB,CAA0BpB,SAA1B;AACD,GAFQ,EAEN,CAACA,SAAD,CAFM,CAAT;AAIA,SAAO,IAAP;AACD,CA1CD;;AA4CA,eAAeF,WAAf","sourcesContent":["import { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport circle from '@turf/circle';\r\n\r\nimport { map } from './Map';\r\n\r\nconst AccuracyMap = () => {\r\n  const id = 'accuracy';\r\n\r\n  const positions = useSelector((state) => ({\r\n    type: 'FeatureCollection',\r\n    features: Object.values(state.positions.items).filter((position) => position.accuracy > 0).map((position) => circle([position.longitude, position.latitude], position.accuracy * 0.001)),\r\n  }));\r\n\r\n  useEffect(() => {\r\n    map.addSource(id, {\r\n      type: 'geojson',\r\n      data: {\r\n        type: 'FeatureCollection',\r\n        features: [],\r\n      },\r\n    });\r\n    map.addLayer({\r\n      source: id,\r\n      id,\r\n      type: 'fill',\r\n      filter: [\r\n        'all',\r\n        ['==', '$type', 'Polygon'],\r\n      ],\r\n      paint: {\r\n        'fill-color': '#3bb2d0',\r\n        'fill-outline-color': '#3bb2d0',\r\n        'fill-opacity': 0.25,\r\n      },\r\n    });\r\n\r\n    return () => {\r\n      map.removeLayer(id);\r\n      map.removeSource(id);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    map.getSource(id).setData(positions);\r\n  }, [positions]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default AccuracyMap;\r\n"]},"metadata":{},"sourceType":"module"}