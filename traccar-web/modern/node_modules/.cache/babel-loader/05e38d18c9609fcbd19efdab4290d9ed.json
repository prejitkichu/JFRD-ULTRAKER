{"ast":null,"code":"var _jsxFileName = \"D:\\\\Personal_Projects\\\\Vehicle Tracking\\\\Development2.0\\\\JFRD-ULTRAKER\\\\traccar-web\\\\modern\\\\src\\\\EditCollectionView.js\";\nimport React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useHistory } from 'react-router-dom';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport { useSelector } from 'react-redux';\nimport t from './common/localization';\nimport RemoveDialog from './RemoveDialog';\nconst useStyles = makeStyles(theme => ({\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2)\n  }\n}));\n\nconst EditCollectionView = _ref => {\n  let {\n    content,\n    editPath,\n    endpoint,\n    disableAdd\n  } = _ref;\n  const classes = useStyles();\n  const history = useHistory();\n  const [selectedId, setSelectedId] = useState(null);\n  const [selectedAnchorEl, setSelectedAnchorEl] = useState(null);\n  const [removeDialogShown, setRemoveDialogShown] = useState(false);\n  const [updateTimestamp, setUpdateTimestamp] = useState(Date.now());\n  const adminEnabled = useSelector(state => state.session.user && state.session.user.administrator);\n\n  const menuShow = (anchorId, itemId) => {\n    setSelectedAnchorEl(anchorId);\n    setSelectedId(itemId);\n  };\n\n  const menuHide = () => {\n    setSelectedAnchorEl(null);\n  };\n\n  const handleAdd = () => {\n    history.push(editPath);\n    menuHide();\n  };\n\n  const handleEdit = () => {\n    history.push(`${editPath}/${selectedId}`);\n    menuHide();\n  };\n\n  const handleRemove = () => {\n    setRemoveDialogShown(true);\n    menuHide();\n  };\n\n  const handleRemoveResult = () => {\n    setRemoveDialogShown(false);\n    setUpdateTimestamp(Date.now());\n  };\n\n  const Content = content;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Content, {\n    updateTimestamp: updateTimestamp,\n    onMenuClick: menuShow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), adminEnabled && !disableAdd && /*#__PURE__*/React.createElement(Fab, {\n    size: \"medium\",\n    color: \"primary\",\n    className: classes.fab,\n    onClick: handleAdd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AddIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Menu, {\n    open: !!selectedAnchorEl,\n    anchorEl: selectedAnchorEl,\n    onClose: menuHide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, t('sharedEdit')), /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleRemove,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, t('sharedRemove'))), /*#__PURE__*/React.createElement(RemoveDialog, {\n    open: removeDialogShown,\n    endpoint: endpoint,\n    itemId: selectedId,\n    onResult: handleRemoveResult,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default EditCollectionView;","map":{"version":3,"sources":["D:/Personal_Projects/Vehicle Tracking/Development2.0/JFRD-ULTRAKER/traccar-web/modern/src/EditCollectionView.js"],"names":["React","useState","makeStyles","useHistory","Menu","MenuItem","Fab","AddIcon","useSelector","t","RemoveDialog","useStyles","theme","fab","position","bottom","spacing","right","EditCollectionView","content","editPath","endpoint","disableAdd","classes","history","selectedId","setSelectedId","selectedAnchorEl","setSelectedAnchorEl","removeDialogShown","setRemoveDialogShown","updateTimestamp","setUpdateTimestamp","Date","now","adminEnabled","state","session","user","administrator","menuShow","anchorId","itemId","menuHide","handleAdd","push","handleEdit","handleRemove","handleRemoveResult","Content"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport t from './common/localization';\r\nimport RemoveDialog from './RemoveDialog';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  fab: {\r\n    position: 'absolute',\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst EditCollectionView = ({\r\n  content, editPath, endpoint, disableAdd,\r\n}) => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [selectedId, setSelectedId] = useState(null);\r\n  const [selectedAnchorEl, setSelectedAnchorEl] = useState(null);\r\n  const [removeDialogShown, setRemoveDialogShown] = useState(false);\r\n  const [updateTimestamp, setUpdateTimestamp] = useState(Date.now());\r\n  const adminEnabled = useSelector((state) => state.session.user && state.session.user.administrator);\r\n\r\n  const menuShow = (anchorId, itemId) => {\r\n    setSelectedAnchorEl(anchorId);\r\n    setSelectedId(itemId);\r\n  };\r\n\r\n  const menuHide = () => {\r\n    setSelectedAnchorEl(null);\r\n  };\r\n\r\n  const handleAdd = () => {\r\n    history.push(editPath);\r\n    menuHide();\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    history.push(`${editPath}/${selectedId}`);\r\n    menuHide();\r\n  };\r\n\r\n  const handleRemove = () => {\r\n    setRemoveDialogShown(true);\r\n    menuHide();\r\n  };\r\n\r\n  const handleRemoveResult = () => {\r\n    setRemoveDialogShown(false);\r\n    setUpdateTimestamp(Date.now());\r\n  };\r\n\r\n  const Content = content;\r\n\r\n  return (\r\n    <>\r\n      <Content updateTimestamp={updateTimestamp} onMenuClick={menuShow} />\r\n      {adminEnabled && !disableAdd\r\n        && (\r\n        <Fab size=\"medium\" color=\"primary\" className={classes.fab} onClick={handleAdd}>\r\n          <AddIcon />\r\n        </Fab>\r\n        )}\r\n      <Menu open={!!selectedAnchorEl} anchorEl={selectedAnchorEl} onClose={menuHide}>\r\n        <MenuItem onClick={handleEdit}>{t('sharedEdit')}</MenuItem>\r\n        <MenuItem onClick={handleRemove}>{t('sharedRemove')}</MenuItem>\r\n      </Menu>\r\n      <RemoveDialog open={removeDialogShown} endpoint={endpoint} itemId={selectedId} onResult={handleRemoveResult} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditCollectionView;\r\n"]},"metadata":{},"sourceType":"module"}