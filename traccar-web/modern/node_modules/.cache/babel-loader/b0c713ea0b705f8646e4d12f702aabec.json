{"ast":null,"code":"var _jsxFileName = \"D:\\\\Personal_Projects\\\\Vehicle Tracking\\\\Development2.0\\\\JFRD-ULTRAKER\\\\traccar-web\\\\modern\\\\src\\\\DevicePage.js\";\nimport React, { useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography, FormControlLabel, Checkbox } from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport t from './common/localization';\nimport EditItemView from './EditItemView';\nimport EditAttributesView from './attributes/EditAttributesView';\nimport deviceAttributes from './attributes/deviceAttributes';\nimport SelectField from './form/SelectField';\nimport deviceCategories from './common/deviceCategories';\nimport LinkField from './form/LinkField';\nimport { prefixString } from './common/stringUtils';\nconst useStyles = makeStyles(() => ({\n  details: {\n    flexDirection: 'column'\n  }\n}));\n\nconst DevicePage = () => {\n  const classes = useStyles();\n  const [item, setItem] = useState();\n  return /*#__PURE__*/React.createElement(EditItemView, {\n    endpoint: \"devices\",\n    item: item,\n    setItem: setItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, item && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Accordion, {\n    defaultExpanded: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(AccordionSummary, {\n    expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 43\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 15\n    }\n  }, t('sharedRequired'))), /*#__PURE__*/React.createElement(AccordionDetails, {\n    className: classes.details,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    margin: \"normal\",\n    value: item.name || '',\n    onChange: event => setItem({ ...item,\n      name: event.target.value\n    }),\n    label: t('sharedName'),\n    variant: \"filled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    margin: \"normal\",\n    value: item.uniqueId || '',\n    onChange: event => setItem({ ...item,\n      uniqueId: event.target.value\n    }),\n    label: t('deviceIdentifier'),\n    variant: \"filled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Accordion, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(AccordionSummary, {\n    expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 43\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, t('sharedExtra'))), /*#__PURE__*/React.createElement(AccordionDetails, {\n    className: classes.details,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SelectField, {\n    margin: \"normal\",\n    value: item.groupId || 0,\n    onChange: event => setItem({ ...item,\n      groupId: Number(event.target.value)\n    }),\n    endpoint: \"/api/groups\",\n    label: t('groupParent'),\n    variant: \"filled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    margin: \"normal\",\n    value: item.phone || '',\n    onChange: event => setItem({ ...item,\n      phone: event.target.value\n    }),\n    label: t('sharedPhone'),\n    variant: \"filled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    margin: \"normal\",\n    value: item.model || '',\n    onChange: event => setItem({ ...item,\n      model: event.target.value\n    }),\n    label: t('deviceModel'),\n    variant: \"filled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    margin: \"normal\",\n    value: item.contact || '',\n    onChange: event => setItem({ ...item,\n      contact: event.target.value\n    }),\n    label: t('deviceContact'),\n    variant: \"filled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(SelectField, {\n    margin: \"normal\",\n    value: item.category || 'default',\n    emptyValue: null,\n    onChange: event => setItem({ ...item,\n      category: event.target.value\n    }),\n    data: deviceCategories.map(category => ({\n      id: category,\n      name: t(`category${category.replace(/^\\w/, c => c.toUpperCase())}`)\n    })),\n    label: t('deviceCategory'),\n    variant: \"filled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      checked: item.disabled,\n      onChange: event => setItem({ ...item,\n        disabled: event.target.checked\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 26\n      }\n    }),\n    label: t('sharedDisabled'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Accordion, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(AccordionSummary, {\n    expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 43\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, t('sharedAttributes'))), /*#__PURE__*/React.createElement(AccordionDetails, {\n    className: classes.details,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(EditAttributesView, {\n    attributes: item.attributes,\n    setAttributes: attributes => setItem({ ...item,\n      attributes\n    }),\n    definitions: deviceAttributes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  }))), item.id && /*#__PURE__*/React.createElement(Accordion, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AccordionSummary, {\n    expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 45\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }, t('sharedConnections'))), /*#__PURE__*/React.createElement(AccordionDetails, {\n    className: classes.details,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(LinkField, {\n    margin: \"normal\",\n    endpointAll: \"/api/geofences\",\n    endpointLinked: `/api/geofences?deviceId=${item.id}`,\n    baseId: item.id,\n    keyBase: \"deviceId\",\n    keyLink: \"geofenceId\",\n    label: t('sharedGeofences'),\n    variant: \"filled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(LinkField, {\n    margin: \"normal\",\n    endpointAll: \"/api/notifications\",\n    endpointLinked: `/api/notifications?deviceId=${item.id}`,\n    baseId: item.id,\n    keyBase: \"deviceId\",\n    keyLink: \"notificationId\",\n    titleGetter: it => t(prefixString('event', it.type)),\n    label: t('sharedNotifications'),\n    variant: \"filled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(LinkField, {\n    margin: \"normal\",\n    endpointAll: \"/api/drivers\",\n    endpointLinked: `/api/drivers?deviceId=${item.id}`,\n    baseId: item.id,\n    keyBase: \"deviceId\",\n    keyLink: \"driverId\",\n    label: t('sharedDrivers'),\n    variant: \"filled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(LinkField, {\n    margin: \"normal\",\n    endpointAll: \"/api/attributes/computed\",\n    endpointLinked: `/api/attributes/computed?deviceId=${item.id}`,\n    baseId: item.id,\n    keyBase: \"deviceId\",\n    keyLink: \"attributeId\",\n    titleGetter: it => it.description,\n    label: t('sharedComputedAttributes'),\n    variant: \"filled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(LinkField, {\n    margin: \"normal\",\n    endpointAll: \"/api/maintenance\",\n    endpointLinked: `/api/maintenance?deviceId=${item.id}`,\n    baseId: item.id,\n    keyBase: \"deviceId\",\n    keyLink: \"maintenanceId\",\n    label: t('sharedMaintenance'),\n    variant: \"filled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  })))));\n};\n\nexport default DevicePage;","map":{"version":3,"sources":["D:/Personal_Projects/Vehicle Tracking/Development2.0/JFRD-ULTRAKER/traccar-web/modern/src/DevicePage.js"],"names":["React","useState","TextField","Accordion","AccordionSummary","AccordionDetails","makeStyles","Typography","FormControlLabel","Checkbox","ExpandMoreIcon","t","EditItemView","EditAttributesView","deviceAttributes","SelectField","deviceCategories","LinkField","prefixString","useStyles","details","flexDirection","DevicePage","classes","item","setItem","name","event","target","value","uniqueId","groupId","Number","phone","model","contact","category","map","id","replace","c","toUpperCase","disabled","checked","attributes","it","type","description"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport {\r\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography, FormControlLabel, Checkbox,\r\n} from '@material-ui/core';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport t from './common/localization';\r\nimport EditItemView from './EditItemView';\r\nimport EditAttributesView from './attributes/EditAttributesView';\r\nimport deviceAttributes from './attributes/deviceAttributes';\r\nimport SelectField from './form/SelectField';\r\nimport deviceCategories from './common/deviceCategories';\r\nimport LinkField from './form/LinkField';\r\nimport { prefixString } from './common/stringUtils';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  details: {\r\n    flexDirection: 'column',\r\n  },\r\n}));\r\n\r\nconst DevicePage = () => {\r\n  const classes = useStyles();\r\n\r\n  const [item, setItem] = useState();\r\n\r\n  return (\r\n    <EditItemView endpoint=\"devices\" item={item} setItem={setItem}>\r\n      {item\r\n        && (\r\n        <>\r\n          <Accordion defaultExpanded>\r\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n              <Typography variant=\"subtitle1\">\r\n                {t('sharedRequired')}\r\n              </Typography>\r\n            </AccordionSummary>\r\n            <AccordionDetails className={classes.details}>\r\n              <TextField\r\n                margin=\"normal\"\r\n                value={item.name || ''}\r\n                onChange={(event) => setItem({ ...item, name: event.target.value })}\r\n                label={t('sharedName')}\r\n                variant=\"filled\"\r\n              />\r\n              <TextField\r\n                margin=\"normal\"\r\n                value={item.uniqueId || ''}\r\n                onChange={(event) => setItem({ ...item, uniqueId: event.target.value })}\r\n                label={t('deviceIdentifier')}\r\n                variant=\"filled\"\r\n              />\r\n            </AccordionDetails>\r\n          </Accordion>\r\n          <Accordion>\r\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n              <Typography variant=\"subtitle1\">\r\n                {t('sharedExtra')}\r\n              </Typography>\r\n            </AccordionSummary>\r\n            <AccordionDetails className={classes.details}>\r\n              <SelectField\r\n                margin=\"normal\"\r\n                value={item.groupId || 0}\r\n                onChange={(event) => setItem({ ...item, groupId: Number(event.target.value) })}\r\n                endpoint=\"/api/groups\"\r\n                label={t('groupParent')}\r\n                variant=\"filled\"\r\n              />\r\n              <TextField\r\n                margin=\"normal\"\r\n                value={item.phone || ''}\r\n                onChange={(event) => setItem({ ...item, phone: event.target.value })}\r\n                label={t('sharedPhone')}\r\n                variant=\"filled\"\r\n              />\r\n              <TextField\r\n                margin=\"normal\"\r\n                value={item.model || ''}\r\n                onChange={(event) => setItem({ ...item, model: event.target.value })}\r\n                label={t('deviceModel')}\r\n                variant=\"filled\"\r\n              />\r\n              <TextField\r\n                margin=\"normal\"\r\n                value={item.contact || ''}\r\n                onChange={(event) => setItem({ ...item, contact: event.target.value })}\r\n                label={t('deviceContact')}\r\n                variant=\"filled\"\r\n              />\r\n              <SelectField\r\n                margin=\"normal\"\r\n                value={item.category || 'default'}\r\n                emptyValue={null}\r\n                onChange={(event) => setItem({ ...item, category: event.target.value })}\r\n                data={deviceCategories.map((category) => ({\r\n                  id: category,\r\n                  name: t(`category${category.replace(/^\\w/, (c) => c.toUpperCase())}`),\r\n                }))}\r\n                label={t('deviceCategory')}\r\n                variant=\"filled\"\r\n              />\r\n              <FormControlLabel\r\n                control={<Checkbox checked={item.disabled} onChange={(event) => setItem({ ...item, disabled: event.target.checked })} />}\r\n                label={t('sharedDisabled')}\r\n              />\r\n            </AccordionDetails>\r\n          </Accordion>\r\n          <Accordion>\r\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n              <Typography variant=\"subtitle1\">\r\n                {t('sharedAttributes')}\r\n              </Typography>\r\n            </AccordionSummary>\r\n            <AccordionDetails className={classes.details}>\r\n              <EditAttributesView\r\n                attributes={item.attributes}\r\n                setAttributes={(attributes) => setItem({ ...item, attributes })}\r\n                definitions={deviceAttributes}\r\n              />\r\n            </AccordionDetails>\r\n          </Accordion>\r\n          {item.id\r\n            && (\r\n            <Accordion>\r\n              <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n                <Typography variant=\"subtitle1\">\r\n                  {t('sharedConnections')}\r\n                </Typography>\r\n              </AccordionSummary>\r\n              <AccordionDetails className={classes.details}>\r\n                <LinkField\r\n                  margin=\"normal\"\r\n                  endpointAll=\"/api/geofences\"\r\n                  endpointLinked={`/api/geofences?deviceId=${item.id}`}\r\n                  baseId={item.id}\r\n                  keyBase=\"deviceId\"\r\n                  keyLink=\"geofenceId\"\r\n                  label={t('sharedGeofences')}\r\n                  variant=\"filled\"\r\n                />\r\n                <LinkField\r\n                  margin=\"normal\"\r\n                  endpointAll=\"/api/notifications\"\r\n                  endpointLinked={`/api/notifications?deviceId=${item.id}`}\r\n                  baseId={item.id}\r\n                  keyBase=\"deviceId\"\r\n                  keyLink=\"notificationId\"\r\n                  titleGetter={(it) => t(prefixString('event', it.type))}\r\n                  label={t('sharedNotifications')}\r\n                  variant=\"filled\"\r\n                />\r\n                <LinkField\r\n                  margin=\"normal\"\r\n                  endpointAll=\"/api/drivers\"\r\n                  endpointLinked={`/api/drivers?deviceId=${item.id}`}\r\n                  baseId={item.id}\r\n                  keyBase=\"deviceId\"\r\n                  keyLink=\"driverId\"\r\n                  label={t('sharedDrivers')}\r\n                  variant=\"filled\"\r\n                />\r\n                <LinkField\r\n                  margin=\"normal\"\r\n                  endpointAll=\"/api/attributes/computed\"\r\n                  endpointLinked={`/api/attributes/computed?deviceId=${item.id}`}\r\n                  baseId={item.id}\r\n                  keyBase=\"deviceId\"\r\n                  keyLink=\"attributeId\"\r\n                  titleGetter={(it) => it.description}\r\n                  label={t('sharedComputedAttributes')}\r\n                  variant=\"filled\"\r\n                />\r\n                <LinkField\r\n                  margin=\"normal\"\r\n                  endpointAll=\"/api/maintenance\"\r\n                  endpointLinked={`/api/maintenance?deviceId=${item.id}`}\r\n                  baseId={item.id}\r\n                  keyBase=\"deviceId\"\r\n                  keyLink=\"maintenanceId\"\r\n                  label={t('sharedMaintenance')}\r\n                  variant=\"filled\"\r\n                />\r\n              </AccordionDetails>\r\n            </Accordion>\r\n            )}\r\n        </>\r\n        )}\r\n    </EditItemView>\r\n  );\r\n};\r\n\r\nexport default DevicePage;\r\n"]},"metadata":{},"sourceType":"module"}