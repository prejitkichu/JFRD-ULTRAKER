{"ast":null,"code":"var _jsxFileName = \"D:\\\\Personal_Projects\\\\Vehicle Tracking\\\\Development2.0\\\\JFRD-ULTRAKER\\\\traccar-web\\\\modern\\\\src\\\\MainToolbar.js\";\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useDispatch, useSelector } from 'react-redux';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MapIcon from '@material-ui/icons/Map';\nimport PersonIcon from '@material-ui/icons/Person';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport ReplayIcon from '@material-ui/icons/Replay';\nimport { sessionActions } from './store';\nimport t from './common/localization';\nimport * as selectors from './common/selectors';\nconst useStyles = makeStyles(theme => ({\n  flex: {\n    flexGrow: 1\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1\n  },\n  list: {\n    width: 250\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20\n  }\n}));\n\nconst MainToolbar = () => {\n  const dispatch = useDispatch();\n  const [drawer, setDrawer] = useState(false);\n  const classes = useStyles();\n  const history = useHistory();\n  const userId = useSelector(selectors.getUserId);\n\n  const openDrawer = () => {\n    setDrawer(true);\n  };\n\n  const closeDrawer = () => {\n    setDrawer(false);\n  };\n\n  const handleLogout = async () => {\n    const response = await fetch('/api/session', {\n      method: 'DELETE'\n    });\n\n    if (response.ok) {\n      dispatch(sessionActions.updateUser(null));\n      history.push('/login');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AppBar, {\n    position: \"static\",\n    className: classes.appBar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    className: classes.menuButton,\n    color: \"inherit\",\n    onClick: openDrawer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MenuIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    color: \"inherit\",\n    className: classes.flex,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, \"Traccar\"), /*#__PURE__*/React.createElement(Button, {\n    color: \"inherit\",\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, t('loginLogout')))), /*#__PURE__*/React.createElement(Drawer, {\n    open: drawer,\n    onClose: closeDrawer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    tabIndex: 0,\n    className: classes.list,\n    role: \"button\",\n    onClick: closeDrawer,\n    onKeyDown: closeDrawer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ListItem, {\n    button: true,\n    onClick: () => history.push('/'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MapIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: t('mapTitle'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(ListItem, {\n    button: true,\n    onClick: () => history.push('/replay'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ReplayIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: t('reportReplay'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(ListItem, {\n    button: true,\n    onClick: () => history.push('/reports/route'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(DescriptionIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: t('reportTitle'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(ListItem, {\n    button: true,\n    disabled: !userId,\n    onClick: () => history.push('/settings/notifications'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(PersonIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: t('settingsTitle'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nexport default MainToolbar;","map":{"version":3,"sources":["D:/Personal_Projects/Vehicle Tracking/Development2.0/JFRD-ULTRAKER/traccar-web/modern/src/MainToolbar.js"],"names":["React","useState","useHistory","makeStyles","useDispatch","useSelector","AppBar","Toolbar","Typography","Button","IconButton","MenuIcon","Drawer","List","ListItem","ListItemIcon","ListItemText","MapIcon","PersonIcon","DescriptionIcon","ReplayIcon","sessionActions","t","selectors","useStyles","theme","flex","flexGrow","appBar","zIndex","drawer","list","width","menuButton","marginLeft","marginRight","MainToolbar","dispatch","setDrawer","classes","history","userId","getUserId","openDrawer","closeDrawer","handleLogout","response","fetch","method","ok","updateUser","push"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport MapIcon from '@material-ui/icons/Map';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport DescriptionIcon from '@material-ui/icons/Description';\r\nimport ReplayIcon from '@material-ui/icons/Replay';\r\nimport { sessionActions } from './store';\r\nimport t from './common/localization';\r\nimport * as selectors from './common/selectors';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  flex: {\r\n    flexGrow: 1,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n  },\r\n  list: {\r\n    width: 250,\r\n  },\r\n  menuButton: {\r\n    marginLeft: -12,\r\n    marginRight: 20,\r\n  },\r\n}));\r\n\r\nconst MainToolbar = () => {\r\n  const dispatch = useDispatch();\r\n  const [drawer, setDrawer] = useState(false);\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const userId = useSelector(selectors.getUserId);\r\n\r\n  const openDrawer = () => { setDrawer(true); };\r\n  const closeDrawer = () => { setDrawer(false); };\r\n\r\n  const handleLogout = async () => {\r\n    const response = await fetch('/api/session', { method: 'DELETE' });\r\n    if (response.ok) {\r\n      dispatch(sessionActions.updateUser(null));\r\n      history.push('/login');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AppBar position=\"static\" className={classes.appBar}>\r\n        <Toolbar>\r\n          <IconButton\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            onClick={openDrawer}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" color=\"inherit\" className={classes.flex}>\r\n            Traccar\r\n          </Typography>\r\n          <Button color=\"inherit\" onClick={handleLogout}>{t('loginLogout')}</Button>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer open={drawer} onClose={closeDrawer}>\r\n        <div\r\n          tabIndex={0}\r\n          className={classes.list}\r\n          role=\"button\"\r\n          onClick={closeDrawer}\r\n          onKeyDown={closeDrawer}\r\n        >\r\n          <List>\r\n            <ListItem button onClick={() => history.push('/')}>\r\n              <ListItemIcon>\r\n                <MapIcon />\r\n              </ListItemIcon>\r\n              <ListItemText primary={t('mapTitle')} />\r\n            </ListItem>\r\n            <ListItem button onClick={() => history.push('/replay')}>\r\n              <ListItemIcon>\r\n                <ReplayIcon />\r\n              </ListItemIcon>\r\n              <ListItemText primary={t('reportReplay')} />\r\n            </ListItem>\r\n            <ListItem button onClick={() => history.push('/reports/route')}>\r\n              <ListItemIcon>\r\n                <DescriptionIcon />\r\n              </ListItemIcon>\r\n              <ListItemText primary={t('reportTitle')} />\r\n            </ListItem>\r\n            <ListItem\r\n              button\r\n              disabled={!userId}\r\n              onClick={() => history.push('/settings/notifications')}\r\n            >\r\n              <ListItemIcon>\r\n                <PersonIcon />\r\n              </ListItemIcon>\r\n              <ListItemText primary={t('settingsTitle')} />\r\n            </ListItem>\r\n          </List>\r\n        </div>\r\n      </Drawer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MainToolbar;\r\n"]},"metadata":{},"sourceType":"module"}