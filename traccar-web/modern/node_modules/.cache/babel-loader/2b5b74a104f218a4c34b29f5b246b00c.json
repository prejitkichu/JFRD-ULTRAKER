{"ast":null,"code":"var _jsxFileName = \"D:\\\\Personal_Projects\\\\Vehicle Tracking\\\\Development2.0\\\\JFRD-ULTRAKER\\\\traccar-web\\\\modern\\\\src\\\\admin\\\\ServerPage.js\";\nimport React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography, Button, FormControl, Container, Checkbox, FormControlLabel } from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport t from '../common/localization';\nimport { sessionActions } from '../store';\nimport EditAttributesView from '../attributes/EditAttributesView';\nimport deviceAttributes from '../attributes/deviceAttributes';\nimport userAttributes from '../attributes/userAttributes';\nimport OptionsLayout from '../settings/OptionsLayout';\nconst useStyles = makeStyles(theme => ({\n  container: {\n    marginTop: theme.spacing(2)\n  },\n  buttons: {\n    display: 'flex',\n    justifyContent: 'space-evenly',\n    '& > *': {\n      flexBasis: '33%'\n    }\n  },\n  details: {\n    flexDirection: 'column'\n  }\n}));\n\nconst ServerPage = () => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const item = useSelector(state => state.session.server);\n\n  const setItem = updatedItem => dispatch(sessionActions.updateServer(updatedItem));\n\n  const handleSave = async () => {\n    const response = await fetch('/api/server', {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(item)\n    });\n\n    if (response.ok) {\n      history.goBack();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(OptionsLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    maxWidth: \"xs\",\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, item && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Accordion, {\n    defaultExpanded: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AccordionSummary, {\n    expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 45\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, t('sharedPreferences'))), /*#__PURE__*/React.createElement(AccordionDetails, {\n    className: classes.details,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    margin: \"normal\",\n    value: item.announcement || '',\n    onChange: event => setItem({ ...item,\n      announcement: event.target.value\n    }),\n    label: t('serverAnnouncement'),\n    variant: \"filled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(Accordion, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AccordionSummary, {\n    expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 45\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, t('sharedPermissions'))), /*#__PURE__*/React.createElement(AccordionDetails, {\n    className: classes.details,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      checked: item.registration,\n      onChange: event => setItem({ ...item,\n        registration: event.target.checked\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 28\n      }\n    }),\n    label: t('serverRegistration'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      checked: item.readonly,\n      onChange: event => setItem({ ...item,\n        readonly: event.target.checked\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 28\n      }\n    }),\n    label: t('serverReadonly'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      checked: item.deviceReadonly,\n      onChange: event => setItem({ ...item,\n        deviceReadonly: event.target.checked\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 28\n      }\n    }),\n    label: t('userDeviceReadonly'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      checked: item.limitCommands,\n      onChange: event => setItem({ ...item,\n        limitCommands: event.target.checked\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 28\n      }\n    }),\n    label: t('userLimitCommands'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(Accordion, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AccordionSummary, {\n    expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 45\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, t('sharedAttributes'))), /*#__PURE__*/React.createElement(AccordionDetails, {\n    className: classes.details,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(EditAttributesView, {\n    attributes: item.attributes,\n    setAttributes: attributes => setItem({ ...item,\n      attributes\n    }),\n    definitions: { ...userAttributes,\n      ...deviceAttributes\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(FormControl, {\n    fullWidth: true,\n    margin: \"normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.buttons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"primary\",\n    variant: \"outlined\",\n    onClick: () => history.goBack(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, t('sharedCancel')), /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"primary\",\n    variant: \"contained\",\n    onClick: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, t('sharedSave'))))));\n};\n\nexport default ServerPage;","map":{"version":3,"sources":["D:/Personal_Projects/Vehicle Tracking/Development2.0/JFRD-ULTRAKER/traccar-web/modern/src/admin/ServerPage.js"],"names":["React","TextField","Accordion","AccordionSummary","AccordionDetails","makeStyles","Typography","Button","FormControl","Container","Checkbox","FormControlLabel","ExpandMoreIcon","useHistory","useDispatch","useSelector","t","sessionActions","EditAttributesView","deviceAttributes","userAttributes","OptionsLayout","useStyles","theme","container","marginTop","spacing","buttons","display","justifyContent","flexBasis","details","flexDirection","ServerPage","history","dispatch","classes","item","state","session","server","setItem","updatedItem","updateServer","handleSave","response","fetch","method","headers","body","JSON","stringify","ok","goBack","announcement","event","target","value","registration","checked","readonly","deviceReadonly","limitCommands","attributes"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport {\r\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography, Button, FormControl, Container, Checkbox, FormControlLabel,\r\n} from '@material-ui/core';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport t from '../common/localization';\r\nimport { sessionActions } from '../store';\r\nimport EditAttributesView from '../attributes/EditAttributesView';\r\nimport deviceAttributes from '../attributes/deviceAttributes';\r\nimport userAttributes from '../attributes/userAttributes';\r\nimport OptionsLayout from '../settings/OptionsLayout';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'space-evenly',\r\n    '& > *': {\r\n      flexBasis: '33%',\r\n    },\r\n  },\r\n  details: {\r\n    flexDirection: 'column',\r\n  },\r\n}));\r\n\r\nconst ServerPage = () => {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n\r\n  const item = useSelector((state) => state.session.server);\r\n  const setItem = (updatedItem) => dispatch(sessionActions.updateServer(updatedItem));\r\n\r\n  const handleSave = async () => {\r\n    const response = await fetch('/api/server', {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(item),\r\n    });\r\n\r\n    if (response.ok) {\r\n      history.goBack();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <OptionsLayout>\r\n      <Container maxWidth=\"xs\" className={classes.container}>\r\n        {item && (\r\n          <>\r\n            <Accordion defaultExpanded>\r\n              <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n                <Typography variant=\"subtitle1\">\r\n                  {t('sharedPreferences')}\r\n                </Typography>\r\n              </AccordionSummary>\r\n              <AccordionDetails className={classes.details}>\r\n                <TextField\r\n                  margin=\"normal\"\r\n                  value={item.announcement || ''}\r\n                  onChange={(event) => setItem({ ...item, announcement: event.target.value })}\r\n                  label={t('serverAnnouncement')}\r\n                  variant=\"filled\"\r\n                />\r\n              </AccordionDetails>\r\n            </Accordion>\r\n            <Accordion>\r\n              <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n                <Typography variant=\"subtitle1\">\r\n                  {t('sharedPermissions')}\r\n                </Typography>\r\n              </AccordionSummary>\r\n              <AccordionDetails className={classes.details}>\r\n                <FormControlLabel\r\n                  control={<Checkbox checked={item.registration} onChange={(event) => setItem({ ...item, registration: event.target.checked })} />}\r\n                  label={t('serverRegistration')}\r\n                />\r\n                <FormControlLabel\r\n                  control={<Checkbox checked={item.readonly} onChange={(event) => setItem({ ...item, readonly: event.target.checked })} />}\r\n                  label={t('serverReadonly')}\r\n                />\r\n                <FormControlLabel\r\n                  control={<Checkbox checked={item.deviceReadonly} onChange={(event) => setItem({ ...item, deviceReadonly: event.target.checked })} />}\r\n                  label={t('userDeviceReadonly')}\r\n                />\r\n                <FormControlLabel\r\n                  control={<Checkbox checked={item.limitCommands} onChange={(event) => setItem({ ...item, limitCommands: event.target.checked })} />}\r\n                  label={t('userLimitCommands')}\r\n                />\r\n              </AccordionDetails>\r\n            </Accordion>\r\n            <Accordion>\r\n              <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n                <Typography variant=\"subtitle1\">\r\n                  {t('sharedAttributes')}\r\n                </Typography>\r\n              </AccordionSummary>\r\n              <AccordionDetails className={classes.details}>\r\n                <EditAttributesView\r\n                  attributes={item.attributes}\r\n                  setAttributes={(attributes) => setItem({ ...item, attributes })}\r\n                  definitions={{ ...userAttributes, ...deviceAttributes }}\r\n                />\r\n              </AccordionDetails>\r\n            </Accordion>\r\n          </>\r\n        )}\r\n        <FormControl fullWidth margin=\"normal\">\r\n          <div className={classes.buttons}>\r\n            <Button type=\"button\" color=\"primary\" variant=\"outlined\" onClick={() => history.goBack()}>\r\n              {t('sharedCancel')}\r\n            </Button>\r\n            <Button type=\"button\" color=\"primary\" variant=\"contained\" onClick={handleSave}>\r\n              {t('sharedSave')}\r\n            </Button>\r\n          </div>\r\n        </FormControl>\r\n      </Container>\r\n    </OptionsLayout>\r\n  );\r\n};\r\n\r\nexport default ServerPage;\r\n"]},"metadata":{},"sourceType":"module"}